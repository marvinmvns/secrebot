{
  "name": "Academia Jiu-Jitsu - Resiliente",
  "description": "Template resiliente para atendimento de academia de jiu-jitsu com navegaÃ§Ã£o segura e menu principal",
  "id": "jiu-jitsu-resiliente",
  "alias": "jiu-jitsu",
  "version": "2.0",
  "createdAt": "2025-01-25T00:00:00.000Z",
  "lastModified": "2025-01-25T00:00:00.000Z",
  "metadata": {
    "category": "template",
    "industry": "fitness",
    "tags": ["jiu-jitsu", "academia", "atendimento", "vendas", "agendamento", "resiliente"],
    "description": "Template resiliente com menu principal, condiÃ§Ãµes 2-saÃ­das e navegaÃ§Ã£o segura",
    "author": "Claude Code",
    "difficulty": "intermediario",
    "estimatedSetupTime": "30-45 minutos",
    "resilientFeatures": [
      "Menu principal definido",
      "Todas condiÃ§Ãµes com 2 saÃ­das",
      "NavegaÃ§Ã£o por botÃµes",
      "Timeout LLM 20min",
      "Tratamento de erros",
      "Sem finalizaÃ§Ãµes automÃ¡ticas"
    ]
  },
  "nodes": [
    {
      "id": "start_welcome",
      "type": "start",
      "x": 100,
      "y": 300,
      "data": {
        "trigger": "any",
        "value": ""
      }
    },
    {
      "id": "menu_principal",
      "type": "message",
      "x": 300,
      "y": 300,
      "data": {
        "text": "ğŸ¥‹ *BEM-VINDO Ã€ NOSSA ACADEMIA DE JIU-JITSU!* ğŸ¥‹\n\n*Escolha uma opÃ§Ã£o:*\n\n1ï¸âƒ£ ğŸ“‹ InformaÃ§Ãµes sobre modalidades\n2ï¸âƒ£ ğŸ’° PreÃ§os e planos\n3ï¸âƒ£ ğŸ Aula experimental GRÃTIS\n4ï¸âƒ£ ğŸ“ LocalizaÃ§Ã£o e horÃ¡rios\n5ï¸âƒ£ ğŸ’ª BenefÃ­cios do Jiu-Jitsu\n6ï¸âƒ£ ğŸ‘¨â€ğŸ« Falar com instrutor\n\n*Digite o nÃºmero da opÃ§Ã£o (1-6):*\n\nğŸ’¡ *NavegaÃ§Ã£o:*\nğŸ”„ Digite \"CONTINUAR\" para prosseguir\nğŸ  Digite \"MENU\" para voltar aqui\nğŸ Digite \"EXPERIMENTAL\" para aula grÃ¡tis\nğŸ“ Digite \"CONTATO\" para atendente",
        "delay": 0,
        "waitForInput": true,
        "inputTimeout": 120,
        "isMainMenu": true
      }
    },
    {
      "id": "condition_opcao_1",
      "type": "condition",
      "x": 500,
      "y": 150,
      "data": {
        "condition": "contains",
        "variable": "userInput",
        "value": "1"
      }
    },
    {
      "id": "msg_modalidades",
      "type": "message",
      "x": 700,
      "y": 100,
      "data": {
        "text": "ğŸ¥‹ *NOSSAS MODALIDADES:*\n\nğŸ”¥ *JIU-JITSU TRADICIONAL (Gi)*\nâ€¢ Arte marcial completa com kimono\nâ€¢ TÃ©cnicas de solo e em pÃ©\nâ€¢ Autodefesa e disciplina\nâ€¢ Todas as idades\n\nâš¡ *NO-GI (Submission Wrestling)*\nâ€¢ Luta sem kimono\nâ€¢ Foco em velocidade e atletismo\nâ€¢ TÃ©cnicas modernas\n\nğŸ‘¶ *KIDS JIU-JITSU (4-12 anos)*\nâ€¢ Desenvolvimento motor\nâ€¢ Disciplina e respeito\nâ€¢ PrevenÃ§Ã£o bullying\nâ€¢ DiversÃ£o garantida!\n\nğŸ† *COMPETIÃ‡ÃƒO*\nâ€¢ Treinamento especÃ­fico\nâ€¢ PreparaÃ§Ã£o para campeonatos\nâ€¢ TÃ©cnicas avanÃ§adas\n\nğŸ”„ Digite \"CONTINUAR\" para mais opÃ§Ãµes\nğŸ  Digite \"MENU\" para menu principal\nğŸ Digite \"EXPERIMENTAL\" para aula grÃ¡tis",
        "delay": 0,
        "waitForInput": true,
        "inputTimeout": 60
      }
    },
    {
      "id": "condition_opcao_2",
      "type": "condition",
      "x": 500,
      "y": 250,
      "data": {
        "condition": "contains",
        "variable": "userInput",
        "value": "2"
      }
    },
    {
      "id": "msg_precos",
      "type": "message",
      "x": 700,
      "y": 200,
      "data": {
        "text": "ğŸ’° *NOSSOS PLANOS:*\n\nğŸ“¦ *PLANO BÃSICO - R$ 120/mÃªs*\nâ€¢ 2x por semana\nâ€¢ Jiu-Jitsu Gi OU No-Gi\nâ€¢ Acesso vestiÃ¡rio\n\nğŸš€ *PLANO ILIMITADO - R$ 180/mÃªs*\nâ€¢ Todos os dias da semana\nâ€¢ TODAS as modalidades\nâ€¢ Acesso completo\nâ€¢ Desconto em seminÃ¡rios\n\nğŸ‘¨â€ğŸ‘©â€ğŸ‘§â€ğŸ‘¦ *PLANO FAMÃLIA - R$ 280/mÃªs*\nâ€¢ Para 2 pessoas\nâ€¢ Todas as modalidades\nâ€¢ Melhor custo-benefÃ­cio\n\nğŸ“ *PLANO ESTUDANTE - R$ 90/mÃªs*\nâ€¢ Com comprovante de matrÃ­cula\nâ€¢ 2x por semana\n\nğŸ†“ *PRIMEIRA AULA GRÃTIS!*\n\nğŸ’³ CartÃ£o, PIX, Dinheiro\nğŸ“Š Parcelamento em atÃ© 12x\n\nğŸ”„ Digite \"CONTINUAR\" para mais opÃ§Ãµes\nğŸ  Digite \"MENU\" para menu principal\nğŸ Digite \"EXPERIMENTAL\" para aula grÃ¡tis",
        "delay": 0,
        "waitForInput": true,
        "inputTimeout": 60
      }
    },
    {
      "id": "condition_opcao_3",
      "type": "condition",
      "x": 500,
      "y": 350,
      "data": {
        "condition": "contains",
        "variable": "userInput",
        "value": "3"
      }
    },
    {
      "id": "msg_experimental",
      "type": "message",
      "x": 700,
      "y": 300,
      "data": {
        "text": "ğŸ‰ *AULA EXPERIMENTAL GRÃTIS!*\n\nâœ… *O que estÃ¡ incluso:*\nâ€¢ Aula completa de 1h\nâ€¢ Kimono emprestado (se necessÃ¡rio)\nâ€¢ AvaliaÃ§Ã£o com instrutor\nâ€¢ ApresentaÃ§Ã£o da academia\nâ€¢ Sem compromisso!\n\nğŸ“… *HorÃ¡rios disponÃ­veis:*\nâ€¢ Segunda a Sexta: 6h, 7h, 18h, 19h, 20h\nâ€¢ SÃ¡bado: 9h, 10h, 11h\n\nğŸ“‹ *Para agendar, me passe:*\nâ€¢ Nome completo\nâ€¢ Telefone para contato\nâ€¢ Idade\nâ€¢ ExperiÃªncia anterior (se houver)\nâ€¢ Melhor dia e horÃ¡rio\n\n*Digite suas informaÃ§Ãµes para agendamento:*",
        "delay": 0,
        "waitForInput": true,
        "inputTimeout": 300
      }
    },
    {
      "id": "msg_agendamento_confirmado",
      "type": "message",
      "x": 900,
      "y": 300,
      "data": {
        "text": "ğŸ‰ *AGENDAMENTO REGISTRADO!*\n\nâœ… *Seus dados foram coletados:*\n{{userInput}}\n\nğŸ“ *PrÃ³ximos passos:*\n1. Nosso instrutor entrarÃ¡ em contato em atÃ© 2 horas\n2. Confirmaremos horÃ¡rio disponÃ­vel\n3. Enviaremos localizaÃ§Ã£o e orientaÃ§Ãµes\n4. VocÃª virÃ¡ fazer sua aula GRÃTIS!\n\nğŸ’¡ *Dicas importantes:*\nâ€¢ Venha com roupa confortÃ¡vel\nâ€¢ Traga uma toalha\nâ€¢ Chegue 15 min antes\nâ€¢ Traga muita vontade de aprender!\n\nğŸ”„ Digite \"CONTINUAR\" para mais opÃ§Ãµes\nğŸ  Digite \"MENU\" para menu principal\nğŸ“ Digite \"CONTATO\" para falar conosco",
        "delay": 0,
        "waitForInput": true,
        "inputTimeout": 60
      }
    },
    {
      "id": "condition_opcao_4",
      "type": "condition",
      "x": 500,
      "y": 450,
      "data": {
        "condition": "contains",
        "variable": "userInput",
        "value": "4"
      }
    },
    {
      "id": "msg_localizacao",
      "type": "message",
      "x": 700,
      "y": 400,
      "data": {
        "text": "ğŸ“ *NOSSA LOCALIZAÃ‡ÃƒO:*\n\nğŸ¢ *EndereÃ§o:*\nRua das Artes Marciais, 123\nCentro - Sua Cidade/SP\nCEP: 12345-678\n\nğŸš— *Como chegar:*\nâ€¢ 2 quadras do metrÃ´ Central\nâ€¢ Estacionamento GRATUITO\nâ€¢ PrÃ³ximo ao Shopping Center\nâ€¢ VÃ¡rias linhas de Ã´nibus\n\nâ° *HORÃRIOS:*\n\nğŸŒ… *Segunda a Sexta:*\nâ€¢ ManhÃ£: 6h Ã s 8h\nâ€¢ Tarde: 14h Ã s 16h\nâ€¢ Noite: 18h Ã s 22h\n\nğŸŒ¤ï¸ *SÃ¡bado:*\nâ€¢ ManhÃ£: 8h Ã s 12h\nâ€¢ Tarde: 14h Ã s 16h\n\nğŸ˜´ *Domingo:* Fechado\n\nğŸ“ *Contatos:*\nâ€¢ WhatsApp: (11) 99999-9999\nâ€¢ Instagram: @academia_jiujitsu\nâ€¢ Email: contato@academia.com\n\nğŸ”„ Digite \"CONTINUAR\" para mais opÃ§Ãµes\nğŸ  Digite \"MENU\" para menu principal\nğŸ Digite \"EXPERIMENTAL\" para aula grÃ¡tis",
        "delay": 0,
        "waitForInput": true,
        "inputTimeout": 60
      }
    },
    {
      "id": "condition_opcao_5",
      "type": "condition",
      "x": 500,
      "y": 550,
      "data": {
        "condition": "contains",
        "variable": "userInput",
        "value": "5"
      }
    },
    {
      "id": "msg_beneficios",
      "type": "message",
      "x": 700,
      "y": 500,
      "data": {
        "text": "ğŸ’ª *BENEFÃCIOS DO JIU-JITSU:*\n\nğŸ§  *MENTAL & EMOCIONAL:*\nâ€¢ Reduz stress e ansiedade\nâ€¢ Aumenta autoestima\nâ€¢ Desenvolve disciplina\nâ€¢ Melhora foco e concentraÃ§Ã£o\nâ€¢ Controle emocional\n\nğŸ’ª *FÃSICO:*\nâ€¢ Queima atÃ© 600 calorias/aula\nâ€¢ Fortalece corpo todo\nâ€¢ Melhora flexibilidade\nâ€¢ CoordenaÃ§Ã£o motora\nâ€¢ Condicionamento cardiovascular\n\nğŸ›¡ï¸ *AUTODEFESA:*\nâ€¢ TÃ©cnicas eficazes de proteÃ§Ã£o\nâ€¢ ConfianÃ§a em situaÃ§Ãµes adversas\nâ€¢ Conhecimento do prÃ³prio corpo\nâ€¢ Defesa pessoal real\n\nğŸ‘¥ *SOCIAL:*\nâ€¢ Amizades verdadeiras\nâ€¢ Senso de comunidade\nâ€¢ Respeito mÃºtuo\nâ€¢ Trabalho em equipe\nâ€¢ FamÃ­lia Jiu-Jitsu\n\nğŸ¯ *Em 3 meses vocÃª sentirÃ¡ transformaÃ§Ãµes incrÃ­veis!*\n\nğŸ”„ Digite \"CONTINUAR\" para mais opÃ§Ãµes\nğŸ  Digite \"MENU\" para menu principal\nğŸ Digite \"EXPERIMENTAL\" para comeÃ§ar",
        "delay": 0,
        "waitForInput": true,
        "inputTimeout": 60
      }
    },
    {
      "id": "condition_opcao_6",
      "type": "condition",
      "x": 500,
      "y": 650,
      "data": {
        "condition": "contains",
        "variable": "userInput",
        "value": "6"
      }
    },
    {
      "id": "llm_instrutor",
      "type": "llm",
      "x": 700,
      "y": 600,
      "data": {
        "model": "default",
        "prompt": "VocÃª Ã© o Professor JoÃ£o Silva, faixa preta de jiu-jitsu com 15 anos de experiÃªncia. O usuÃ¡rio quer falar com o instrutor. Responda como o prÃ³prio instrutor, de forma amigÃ¡vel, tÃ©cnica e motivadora. Fale sobre sua experiÃªncia, metodologia de ensino, e como pode ajudar o aluno. Seja pessoal e acolhedor. Sempre incentive a prÃ¡tica e ofereÃ§a aula experimental. Mantenha resposta entre 150-200 palavras.",
        "context": true,
        "timeout": 20,
        "outputVariable": "instrutorResponse",
        "errorMessage": "Desculpe, o instrutor estÃ¡ em aula no momento. Tente novamente ou agende uma conversa presencial!",
        "useBalancer": true
      }
    },
    {
      "id": "msg_instrucoes_navegacao",
      "type": "message",
      "x": 900,
      "y": 500,
      "data": {
        "text": "ğŸ¤– *Como posso ajudar mais?*\n\n*OpÃ§Ãµes disponÃ­veis:*\n\n1ï¸âƒ£ InformaÃ§Ãµes sobre modalidades\n2ï¸âƒ£ PreÃ§os e planos\n3ï¸âƒ£ Agendar aula experimental GRÃTIS\n4ï¸âƒ£ LocalizaÃ§Ã£o e horÃ¡rios\n5ï¸âƒ£ BenefÃ­cios do Jiu-Jitsu\n6ï¸âƒ£ Falar com instrutor\n\n*Ou use os comandos:*\nğŸ”„ \"CONTINUAR\" - Continuar navegando\nğŸ  \"MENU\" - Voltar ao menu principal\nğŸ \"EXPERIMENTAL\" - Agendar aula grÃ¡tis\nğŸ“ \"CONTATO\" - Falar com atendente\n\n*Digite sua escolha:*",
        "delay": 0,
        "waitForInput": true,
        "inputTimeout": 120
      }
    },
    {
      "id": "msg_opcao_invalida",
      "type": "message",
      "x": 300,
      "y": 700,
      "data": {
        "text": "ğŸ¤– *OpÃ§Ã£o nÃ£o reconhecida*\n\nPor favor, escolha uma opÃ§Ã£o vÃ¡lida:\n\n*NÃºmeros vÃ¡lidos:* 1, 2, 3, 4, 5 ou 6\n\n*Ou use os comandos:*\nğŸ”„ \"CONTINUAR\" - Para prosseguir\nğŸ  \"MENU\" - Para menu principal\nğŸ \"EXPERIMENTAL\" - Para aula grÃ¡tis\nğŸ“ \"CONTATO\" - Para atendente\n\n*Exemplo:* Digite apenas *1* para modalidades\n\n*Digite sua nova escolha:*",
        "delay": 0,
        "waitForInput": true,
        "inputTimeout": 60
      }
    },
    {
      "id": "end_timeout",
      "type": "end",
      "x": 1100,
      "y": 700,
      "data": {
        "message": "â° Tempo limite atingido. Obrigado pelo interesse! Entre em contato pelo WhatsApp (11) 99999-9999. OSS! ğŸ™"
      }
    }
  ],
  "connections": [
    {
      "id": "conn_start_menu",
      "from": "start_welcome",
      "to": "menu_principal"
    },
    {
      "id": "conn_menu_opcao1",
      "from": "menu_principal",
      "to": "condition_opcao_1"
    },
    {
      "id": "conn_opcao1_true",
      "from": "condition_opcao_1",
      "to": "msg_modalidades"
    },
    {
      "id": "conn_opcao1_false",
      "from": "condition_opcao_1",
      "to": "condition_opcao_2"
    },
    {
      "id": "conn_opcao2_true",
      "from": "condition_opcao_2",
      "to": "msg_precos"
    },
    {
      "id": "conn_opcao2_false",
      "from": "condition_opcao_2",
      "to": "condition_opcao_3"
    },
    {
      "id": "conn_opcao3_true",
      "from": "condition_opcao_3",
      "to": "msg_experimental"
    },
    {
      "id": "conn_opcao3_false",
      "from": "condition_opcao_3",
      "to": "condition_opcao_4"
    },
    {
      "id": "conn_experimental_confirmacao",
      "from": "msg_experimental",
      "to": "msg_agendamento_confirmado"
    },
    {
      "id": "conn_opcao4_true",
      "from": "condition_opcao_4",
      "to": "msg_localizacao"
    },
    {
      "id": "conn_opcao4_false",
      "from": "condition_opcao_4",
      "to": "condition_opcao_5"
    },
    {
      "id": "conn_opcao5_true",
      "from": "condition_opcao_5",
      "to": "msg_beneficios"
    },
    {
      "id": "conn_opcao5_false",
      "from": "condition_opcao_5",
      "to": "condition_opcao_6"
    },
    {
      "id": "conn_opcao6_true",
      "from": "condition_opcao_6",
      "to": "llm_instrutor"
    },
    {
      "id": "conn_opcao6_false",
      "from": "condition_opcao_6",
      "to": "msg_opcao_invalida"
    },
    {
      "id": "conn_modalidades_instrucoes",
      "from": "msg_modalidades",
      "to": "msg_instrucoes_navegacao"
    },
    {
      "id": "conn_precos_instrucoes",
      "from": "msg_precos",
      "to": "msg_instrucoes_navegacao"
    },
    {
      "id": "conn_confirmacao_instrucoes",
      "from": "msg_agendamento_confirmado",
      "to": "msg_instrucoes_navegacao"
    },
    {
      "id": "conn_localizacao_instrucoes",
      "from": "msg_localizacao",
      "to": "msg_instrucoes_navegacao"
    },
    {
      "id": "conn_beneficios_instrucoes",
      "from": "msg_beneficios",
      "to": "msg_instrucoes_navegacao"
    },
    {
      "id": "conn_llm_instrucoes",
      "from": "llm_instrutor",
      "to": "msg_instrucoes_navegacao"
    },
    {
      "id": "conn_instrucoes_menu",
      "from": "msg_instrucoes_navegacao",
      "to": "menu_principal"
    },
    {
      "id": "conn_invalida_menu",
      "from": "msg_opcao_invalida",
      "to": "menu_principal"
    }
  ],
  "templateInstructions": {
    "resilientFeatures": {
      "title": "CaracterÃ­sticas de ResiliÃªncia Implementadas",
      "features": [
        "âœ… Menu principal definido com isMainMenu: true",
        "âœ… Todas as condiÃ§Ãµes tÃªm exatamente 2 saÃ­das (true/false)",
        "âœ… NavegaÃ§Ã£o por botÃµes MENU, CONTINUAR, EXPERIMENTAL, CONTATO",
        "âœ… Timeout de 20 minutos em nÃ³s LLM com fallback",
        "âœ… Tratamento de opÃ§Ãµes invÃ¡lidas sem terminar flow",
        "âœ… Timeouts em todas as entradas de usuÃ¡rio",
        "âœ… Mensagens guiam usuÃ¡rio sem sair do flow",
        "âœ… Estrutura circular - sempre retorna ao menu",
        "âœ… Balanceamento LLM quando disponÃ­vel",
        "âœ… VariÃ¡veis consistentes para entrada do usuÃ¡rio"
      ]
    },
    "setup": {
      "title": "ConfiguraÃ§Ã£o do Template Resiliente",
      "steps": [
        "1. Importe o arquivo JSON no flow builder",
        "2. Personalize informaÃ§Ãµes da academia (nome, endereÃ§o, preÃ§os)",
        "3. Configure webhook se necessÃ¡rio para agendamentos",
        "4. Teste navegaÃ§Ã£o com botÃµes MENU, CONTINUAR, etc.",
        "5. Verifique se todas as condiÃ§Ãµes tÃªm 2 saÃ­das",
        "6. Confirme que menu principal estÃ¡ marcado",
        "7. Teste timeout do LLM (20 minutos)",
        "8. Valide que opÃ§Ãµes invÃ¡lidas nÃ£o quebram o flow"
      ]
    },
    "validation": {
      "title": "Checklist de ValidaÃ§Ã£o",
      "checks": [
        "â–¡ Menu principal tem isMainMenu: true",
        "â–¡ Todas as condiÃ§Ãµes tÃªm exactly 2 connections",
        "â–¡ NÃ³s LLM tÃªm timeout: 20 e useBalancer: true",
        "â–¡ Todas as mensagens tÃªm waitForInput e inputTimeout",
        "â–¡ BotÃµes de navegaÃ§Ã£o funcionam em qualquer ponto",
        "â–¡ OpÃ§Ãµes invÃ¡lidas retornam ao menu sem terminar",
        "â–¡ Flow nunca termina automaticamente",
        "â–¡ Estrutura Ã© circular e resiliente"
      ]
    }
  }
}