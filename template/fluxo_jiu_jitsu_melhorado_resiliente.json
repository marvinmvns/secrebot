{
  "name": "Academia Jiu-Jitsu - Interativo Resiliente",
  "description": "Fluxo interativo resiliente para atendimento de academia com personalizaÃ§Ã£o por nome",
  "id": "academia-jiu-jitsu-interativo",
  "alias": "academia-interativa",
  "version": "3.0",
  "createdAt": "2025-01-25T00:00:00.000Z",
  "lastModified": "2025-01-25T00:00:00.000Z",
  "metadata": {
    "category": "template",
    "industry": "fitness",
    "tags": ["jiu-jitsu", "academia", "atendimento", "interativo", "resiliente", "personalizado"],
    "author": "Claude Code",
    "difficulty": "simples",
    "resilientFeatures": [
      "Menu principal com nome personalizado",
      "Todas condiÃ§Ãµes com 2 saÃ­das",
      "NavegaÃ§Ã£o segura",
      "Tratamento de timeout",
      "PersonalizaÃ§Ã£o por nome"
    ]
  },
  "nodes": [
    {
      "id": "start_node",
      "type": "start",
      "x": 100,
      "y": 200,
      "data": {
        "trigger": "any",
        "value": ""
      }
    },
    {
      "id": "welcome_msg",
      "type": "message",
      "x": 300,
      "y": 200,
      "data": {
        "text": "ğŸ¥‹ *OlÃ¡! Bem-vindo Ã  nossa Academia de Jiu-Jitsu!*\n\nSou seu assistente virtual e estou aqui para ajudÃ¡-lo.\n\n*Para personalizar o atendimento, digite seu nome:*",
        "delay": 1,
        "waitForInput": true,
        "inputTimeout": 120
      }
    },
    {
      "id": "menu_personalizado",
      "type": "message", 
      "x": 500,
      "y": 200,
      "data": {
        "text": "Prazer em conhecÃª-lo, {{userInput}}! ğŸ˜Š\n\nğŸ¥‹ *MENU PRINCIPAL - ACADEMIA JIU-JITSU*\n\n*Escolha uma opÃ§Ã£o:*\n\n1ï¸âƒ£ ğŸ“‹ Modalidades e horÃ¡rios\n2ï¸âƒ£ ğŸ’° PreÃ§os e planos\n3ï¸âƒ£ ğŸ Aula experimental GRÃTIS\n4ï¸âƒ£ ğŸ“ LocalizaÃ§Ã£o e contato\n5ï¸âƒ£ ğŸ’ª BenefÃ­cios do Jiu-Jitsu\n6ï¸âƒ£ ğŸ‘¨â€ğŸ« Falar com instrutor\n\n*Digite o nÃºmero da opÃ§Ã£o (1-6):*\n\nğŸ’¡ *NavegaÃ§Ã£o:*\nğŸ”„ \"CONTINUAR\" - Prosseguir\nğŸ  \"MENU\" - Voltar aqui\nğŸ \"EXPERIMENTAL\" - Aula grÃ¡tis\nğŸ“ \"CONTATO\" - Atendente",
        "delay": 1,
        "waitForInput": true,
        "inputTimeout": 120,
        "isMainMenu": true
      }
    },
    {
      "id": "condition_opcao_1",
      "type": "condition",
      "x": 700,
      "y": 100,
      "data": {
        "condition": "contains",
        "variable": "userInput",
        "value": "1"
      }
    },
    {
      "id": "modalidades_info",
      "type": "message",
      "x": 900,
      "y": 50,
      "data": {
        "text": "ğŸ¥‹ *MODALIDADES DISPONÃVEIS:*\n\nğŸ”¥ *JIU-JITSU TRADICIONAL (Gi)*\nâ€¢ Arte marcial completa com kimono\nâ€¢ TÃ©cnicas de solo e em pÃ©\nâ€¢ Autodefesa e disciplina\nâ€¢ Todas as idades\n\nâš¡ *NO-GI (Submission Wrestling)*\nâ€¢ Luta sem kimono\nâ€¢ Foco em velocidade e atletismo\nâ€¢ TÃ©cnicas modernas\n\nğŸ‘¶ *KIDS JIU-JITSU (4-12 anos)*\nâ€¢ Desenvolvimento motor\nâ€¢ Disciplina e respeito\nâ€¢ PrevenÃ§Ã£o bullying\nâ€¢ DiversÃ£o garantida!\n\nğŸ† *COMPETIÃ‡ÃƒO*\nâ€¢ Treinamento especÃ­fico\nâ€¢ PreparaÃ§Ã£o para campeonatos\nâ€¢ TÃ©cnicas avanÃ§adas\n\nâ° *HORÃRIOS:*\nâ€¢ Segunda a Sexta: 6h, 18h, 19h, 20h\nâ€¢ SÃ¡bado: 9h, 10h\n\nğŸ”„ Digite \"CONTINUAR\" para mais opÃ§Ãµes\nğŸ  Digite \"MENU\" para menu principal\nğŸ Digite \"EXPERIMENTAL\" para aula grÃ¡tis",
        "delay": 2,
        "waitForInput": true,
        "inputTimeout": 120
      }
    },
    {
      "id": "condition_opcao_2",
      "type": "condition",
      "x": 700,
      "y": 200,
      "data": {
        "condition": "contains",
        "variable": "userInput",
        "value": "2"
      }
    },
    {
      "id": "precos_info",
      "type": "message",
      "x": 900,
      "y": 150,
      "data": {
        "text": "ğŸ’° *NOSSOS PLANOS:*\n\nğŸ“¦ *PLANO BÃSICO - R$ 120/mÃªs*\nâ€¢ 2x por semana\nâ€¢ Jiu-Jitsu Gi OU No-Gi\nâ€¢ Acesso vestiÃ¡rio\n\nğŸš€ *PLANO ILIMITADO - R$ 180/mÃªs*\nâ€¢ Todos os dias da semana\nâ€¢ TODAS as modalidades\nâ€¢ Acesso completo\nâ€¢ Desconto em seminÃ¡rios\n\nğŸ‘¨â€ğŸ‘©â€ğŸ‘§â€ğŸ‘¦ *PLANO FAMÃLIA - R$ 280/mÃªs*\nâ€¢ Para 2 pessoas\nâ€¢ Todas as modalidades\nâ€¢ Melhor custo-benefÃ­cio\n\nğŸ“ *PLANO ESTUDANTE - R$ 90/mÃªs*\nâ€¢ Com comprovante de matrÃ­cula\nâ€¢ 2x por semana\n\nğŸ†“ *PRIMEIRA AULA GRÃTIS!*\n\nğŸ’³ CartÃ£o, PIX, Dinheiro\nğŸ“Š Parcelamento em atÃ© 12x\n\nğŸ”„ Digite \"CONTINUAR\" para mais opÃ§Ãµes\nğŸ  Digite \"MENU\" para menu principal\nğŸ Digite \"EXPERIMENTAL\" para aula grÃ¡tis",
        "delay": 2,
        "waitForInput": true,
        "inputTimeout": 120
      }
    },
    {
      "id": "condition_opcao_3",
      "type": "condition",
      "x": 700,
      "y": 300,
      "data": {
        "condition": "contains",
        "variable": "userInput",
        "value": "3"
      }
    },
    {
      "id": "experimental_info",
      "type": "message",
      "x": 900,
      "y": 250,
      "data": {
        "text": "ğŸ‰ *AULA EXPERIMENTAL GRÃTIS!*\n\nâœ… *O que estÃ¡ incluso:*\nâ€¢ Aula completa de 1h\nâ€¢ Kimono emprestado (se necessÃ¡rio)\nâ€¢ AvaliaÃ§Ã£o com instrutor\nâ€¢ ApresentaÃ§Ã£o da academia\nâ€¢ Sem compromisso!\n\nğŸ“… *HorÃ¡rios disponÃ­veis:*\nâ€¢ Segunda a Sexta: 6h, 7h, 18h, 19h, 20h\nâ€¢ SÃ¡bado: 9h, 10h, 11h\n\nğŸ“‹ *Para agendar, me informe:*\nâ€¢ Telefone para contato\nâ€¢ Idade\nâ€¢ ExperiÃªncia anterior (se houver)\nâ€¢ Melhor dia e horÃ¡rio\n\n*Digite seus dados para agendamento:*",
        "delay": 2,
        "waitForInput": true,
        "inputTimeout": 300
      }
    },
    {
      "id": "agendamento_confirmado",
      "type": "message",
      "x": 1100,
      "y": 250,
      "data": {
        "text": "ğŸ‰ *Perfeito! Agendamento registrado!*\n\nğŸ“ *Dados coletados:*\n{{userInput}}\n\nğŸ“ *PrÃ³ximos passos:*\n1. Nosso instrutor entrarÃ¡ em contato em atÃ© 2 horas\n2. Confirmaremos horÃ¡rio disponÃ­vel\n3. Enviaremos localizaÃ§Ã£o e orientaÃ§Ãµes\n4. VocÃª virÃ¡ fazer sua aula GRÃTIS!\n\nğŸ’¡ *Dicas importantes:*\nâ€¢ Venha com roupa confortÃ¡vel\nâ€¢ Traga uma toalha\nâ€¢ Chegue 15 min antes\nâ€¢ Muita vontade de aprender!\n\nğŸ”„ Digite \"CONTINUAR\" para mais opÃ§Ãµes\nğŸ  Digite \"MENU\" para menu principal\nğŸ“ Digite \"CONTATO\" para falar conosco",
        "delay": 2,
        "waitForInput": true,
        "inputTimeout": 120
      }
    },
    {
      "id": "condition_opcao_4",
      "type": "condition",
      "x": 700,
      "y": 400,
      "data": {
        "condition": "contains",
        "variable": "userInput",
        "value": "4"
      }
    },
    {
      "id": "localizacao_info",
      "type": "message",
      "x": 900,
      "y": 350,
      "data": {
        "text": "ğŸ“ *NOSSA LOCALIZAÃ‡ÃƒO:*\n\nğŸ¢ *EndereÃ§o:*\nRua das Artes Marciais, 123\nCentro - Sua Cidade/SP\nCEP: 12345-678\n\nğŸš— *Como chegar:*\nâ€¢ 2 quadras do metrÃ´ Central\nâ€¢ Estacionamento GRATUITO\nâ€¢ PrÃ³ximo ao Shopping Center\n\nâ° *HORÃRIOS:*\nâ€¢ Segunda a Sexta: 6h Ã s 22h\nâ€¢ SÃ¡bado: 8h Ã s 16h\nâ€¢ Domingo: Fechado\n\nğŸ“ *CONTATOS:*\nâ€¢ WhatsApp: (11) 99999-9999\nâ€¢ Instagram: @academia_jiujitsu\nâ€¢ Email: contato@academia.com\n\nğŸ”„ Digite \"CONTINUAR\" para mais opÃ§Ãµes\nğŸ  Digite \"MENU\" para menu principal\nğŸ Digite \"EXPERIMENTAL\" para aula grÃ¡tis",
        "delay": 2,
        "waitForInput": true,
        "inputTimeout": 120
      }
    },
    {
      "id": "condition_opcao_5",
      "type": "condition",
      "x": 700,
      "y": 500,
      "data": {
        "condition": "contains",
        "variable": "userInput",
        "value": "5"
      }
    },
    {
      "id": "beneficios_info",
      "type": "message",
      "x": 900,
      "y": 450,
      "data": {
        "text": "ğŸ’ª *BENEFÃCIOS INCRÃVEIS DO JIU-JITSU:*\n\nğŸ§  *MENTAL:*\nâ€¢ Reduz stress e ansiedade\nâ€¢ Aumenta autoestima\nâ€¢ Desenvolve disciplina\nâ€¢ Melhora foco\n\nğŸ’ª *FÃSICO:*\nâ€¢ Queima atÃ© 600 calorias/aula\nâ€¢ Fortalece corpo todo\nâ€¢ Melhora flexibilidade\nâ€¢ Condicionamento cardiovascular\n\nğŸ›¡ï¸ *AUTODEFESA:*\nâ€¢ TÃ©cnicas eficazes\nâ€¢ ConfianÃ§a pessoal\nâ€¢ Defesa real\n\nğŸ‘¥ *SOCIAL:*\nâ€¢ Amizades verdadeiras\nâ€¢ Senso de comunidade\nâ€¢ Respeito mÃºtuo\nâ€¢ FamÃ­lia Jiu-Jitsu\n\nğŸ¯ *Em 3 meses vocÃª sentirÃ¡ transformaÃ§Ãµes incrÃ­veis!*\n\nğŸ”„ Digite \"CONTINUAR\" para mais opÃ§Ãµes\nğŸ  Digite \"MENU\" para menu principal\nğŸ Digite \"EXPERIMENTAL\" para comeÃ§ar",
        "delay": 3,
        "waitForInput": true,
        "inputTimeout": 120
      }
    },
    {
      "id": "condition_opcao_6",
      "type": "condition",
      "x": 700,
      "y": 600,
      "data": {
        "condition": "contains",
        "variable": "userInput",
        "value": "6"
      }
    },
    {
      "id": "llm_instrutor",
      "type": "llm",
      "x": 900,
      "y": 550,
      "data": {
        "model": "default",
        "prompt": "VocÃª Ã© o Professor JoÃ£o Silva, faixa preta de jiu-jitsu. O usuÃ¡rio quer falar com o instrutor. Use o nome dele que estÃ¡ em {{userName}} se disponÃ­vel. Responda como instrutor experiente, amigÃ¡vel e motivador. Fale sobre sua experiÃªncia, metodologia e como pode ajudar. Seja pessoal e incentive a prÃ¡tica. OfereÃ§a aula experimental. Mantenha entre 100-150 palavras.",
        "context": true,
        "timeout": 20,
        "outputVariable": "instrutorResponse",
        "errorMessage": "Desculpe, o instrutor estÃ¡ em aula. Tente novamente ou agende uma conversa presencial!",
        "useBalancer": true
      }
    },
    {
      "id": "msg_opcao_invalida",
      "type": "message",
      "x": 500,
      "y": 600,
      "data": {
        "text": "ğŸ¤– *OpÃ§Ã£o nÃ£o reconhecida*\n\nPor favor, escolha uma opÃ§Ã£o vÃ¡lida:\n\n*NÃºmeros:* 1, 2, 3, 4, 5 ou 6\n\n*Ou comandos:*\nğŸ”„ \"CONTINUAR\" - Prosseguir\nğŸ  \"MENU\" - Menu principal\nğŸ \"EXPERIMENTAL\" - Aula grÃ¡tis\nğŸ“ \"CONTATO\" - Atendente\n\n*Exemplo:* Digite *1* para modalidades\n\n*Digite sua escolha:*",
        "delay": 1,
        "waitForInput": true,
        "inputTimeout": 60
      }
    },
    {
      "id": "msg_navegacao",
      "type": "message",
      "x": 1100,
      "y": 400,
      "data": {
        "text": "ğŸ¤– *Como posso ajudar mais?*\n\n*Escolha uma opÃ§Ã£o:*\n\n1ï¸âƒ£ Modalidades e horÃ¡rios\n2ï¸âƒ£ PreÃ§os e planos\n3ï¸âƒ£ Aula experimental GRÃTIS\n4ï¸âƒ£ LocalizaÃ§Ã£o e contato\n5ï¸âƒ£ BenefÃ­cios do Jiu-Jitsu\n6ï¸âƒ£ Falar com instrutor\n\n*Ou use:*\nğŸ”„ \"CONTINUAR\" - Continuar\nğŸ  \"MENU\" - Menu principal\nğŸ \"EXPERIMENTAL\" - Aula grÃ¡tis\nğŸ“ \"CONTATO\" - Atendente\n\n*Digite sua escolha:*",
        "delay": 1,
        "waitForInput": true,
        "inputTimeout": 120
      }
    }
  ],
  "connections": [
    {
      "id": "conn_start_welcome",
      "from": "start_node",
      "to": "welcome_msg"
    },
    {
      "id": "conn_welcome_menu",
      "from": "welcome_msg",
      "to": "menu_personalizado"
    },
    {
      "id": "conn_menu_opcao1",
      "from": "menu_personalizado",
      "to": "condition_opcao_1"
    },
    {
      "id": "conn_opcao1_true",
      "from": "condition_opcao_1",
      "to": "modalidades_info"
    },
    {
      "id": "conn_opcao1_false",
      "from": "condition_opcao_1",
      "to": "condition_opcao_2"
    },
    {
      "id": "conn_opcao2_true",
      "from": "condition_opcao_2",
      "to": "precos_info"
    },
    {
      "id": "conn_opcao2_false",
      "from": "condition_opcao_2",
      "to": "condition_opcao_3"
    },
    {
      "id": "conn_opcao3_true",
      "from": "condition_opcao_3",
      "to": "experimental_info"
    },
    {
      "id": "conn_opcao3_false",
      "from": "condition_opcao_3",
      "to": "condition_opcao_4"
    },
    {
      "id": "conn_experimental_agendamento",
      "from": "experimental_info",
      "to": "agendamento_confirmado"
    },
    {
      "id": "conn_opcao4_true",
      "from": "condition_opcao_4",
      "to": "localizacao_info"
    },
    {
      "id": "conn_opcao4_false",
      "from": "condition_opcao_4",
      "to": "condition_opcao_5"
    },
    {
      "id": "conn_opcao5_true",
      "from": "condition_opcao_5",
      "to": "beneficios_info"
    },
    {
      "id": "conn_opcao5_false",
      "from": "condition_opcao_5",
      "to": "condition_opcao_6"
    },
    {
      "id": "conn_opcao6_true",
      "from": "condition_opcao_6",
      "to": "llm_instrutor"
    },
    {
      "id": "conn_opcao6_false",
      "from": "condition_opcao_6",
      "to": "msg_opcao_invalida"
    },
    {
      "id": "conn_modalidades_nav",
      "from": "modalidades_info",
      "to": "msg_navegacao"
    },
    {
      "id": "conn_precos_nav",
      "from": "precos_info",
      "to": "msg_navegacao"
    },
    {
      "id": "conn_agendamento_nav",
      "from": "agendamento_confirmado",
      "to": "msg_navegacao"
    },
    {
      "id": "conn_localizacao_nav",
      "from": "localizacao_info",
      "to": "msg_navegacao"
    },
    {
      "id": "conn_beneficios_nav",
      "from": "beneficios_info",
      "to": "msg_navegacao"
    },
    {
      "id": "conn_llm_nav",
      "from": "llm_instrutor",
      "to": "msg_navegacao"
    },
    {
      "id": "conn_navegacao_menu",
      "from": "msg_navegacao",
      "to": "menu_personalizado"
    },
    {
      "id": "conn_invalida_menu",
      "from": "msg_opcao_invalida",
      "to": "menu_personalizado"
    }
  ],
  "templateInstructions": {
    "personalizedFeatures": {
      "title": "Funcionalidades de PersonalizaÃ§Ã£o",
      "features": [
        "âœ… Coleta nome do usuÃ¡rio no inÃ­cio",
        "âœ… Menu personalizado com nome do usuÃ¡rio",
        "âœ… VariÃ¡vel {{userInput}} disponÃ­vel para usar o nome",
        "âœ… ConversaÃ§Ã£o mais humana e pessoal",
        "âœ… LLM instrutor usa nome do usuÃ¡rio quando disponÃ­vel"
      ]
    },
    "resilientFeatures": {
      "title": "CaracterÃ­sticas de ResiliÃªncia",
      "features": [
        "âœ… Menu principal com isMainMenu: true",
        "âœ… Todas condiÃ§Ãµes tÃªm 2 saÃ­das",
        "âœ… NavegaÃ§Ã£o por botÃµes",
        "âœ… Timeout 20min em LLM",
        "âœ… Tratamento opÃ§Ãµes invÃ¡lidas",
        "âœ… Estrutura circular resiliente"
      ]
    },
    "setup": {
      "title": "ConfiguraÃ§Ã£o Personalizada",
      "steps": [
        "1. Importe no flow builder",
        "2. Personalize dados da academia",
        "3. Configure integraÃ§Ã£o LLM",
        "4. Teste personalizaÃ§Ã£o por nome",
        "5. Valide resiliÃªncia do flow",
        "6. Ajuste mensagens conforme necessÃ¡rio"
      ]
    }
  }
}