{
  "id": "flow_academia_corrigido",
  "name": "Flow Academia - VersÃ£o Corrigida",
  "description": "Fluxo completo para academia com menu principal e condiÃ§Ãµes corrigidas",
  "metadata": {
    "version": "1.0",
    "created": "2025-01-25",
    "author": "Claude",
    "corrections": "Todas as condiÃ§Ãµes tÃªm 2 saÃ­das, menu principal definido"
  },
  "nodes": [
    {
      "id": "start_node",
      "type": "start",
      "data": {
        "trigger": "any",
        "value": ""
      },
      "position": { "x": 100, "y": 100 }
    },
    {
      "id": "menu_principal",
      "type": "message",
      "data": {
        "text": "ğŸ‹ï¸ *BEM-VINDO Ã€ NOSSA ACADEMIA!* ğŸ‹ï¸\n\n*Escolha uma opÃ§Ã£o:*\n\n1ï¸âƒ£ ğŸ“‹ InformaÃ§Ãµes da Academia\n2ï¸âƒ£ ğŸ’° Planos e Investimento\n3ï¸âƒ£ ğŸ Aula Experimental GRÃTIS\n4ï¸âƒ£ ğŸ¤– Falar com Especialista IA\n5ï¸âƒ£ ğŸ“ LocalizaÃ§Ã£o e Contato\n6ï¸âƒ£ ğŸ† HistÃ³rias de Sucesso\n\nDigite o nÃºmero da opÃ§Ã£o (1-6):",
        "delay": 0,
        "waitForInput": true,
        "inputTimeout": 120,
        "isMainMenu": true
      },
      "position": { "x": 300, "y": 100 }
    },
    {
      "id": "condition_menu_principal",
      "type": "condition",
      "data": {
        "condition": "contains",
        "value": "1",
        "variable": "userInput"
      },
      "position": { "x": 500, "y": 100 }
    },
    {
      "id": "submenu_informacoes",
      "type": "message",
      "data": {
        "text": "ğŸ“‹ *INFORMAÃ‡Ã•ES DA ACADEMIA*\n\n1.1 ğŸ• HorÃ¡rios de Funcionamento\n1.2 ğŸ—ï¸ Estrutura e Equipamentos\n1.3 ğŸ‘¥ Modalidades DisponÃ­veis\n1.4 ğŸ”™ Voltar ao Menu Principal\n\nDigite sua escolha:",
        "delay": 0,
        "waitForInput": true,
        "inputTimeout": 60
      },
      "position": { "x": 700, "y": 50 }
    },
    {
      "id": "condition_submenu_11",
      "type": "condition",
      "data": {
        "condition": "contains",
        "value": "1.1",
        "variable": "userInput"
      },
      "position": { "x": 900, "y": 50 }
    },
    {
      "id": "info_horarios",
      "type": "message",
      "data": {
        "text": "ğŸ• *HORÃRIOS DE FUNCIONAMENTO*\n\nğŸ“… Segunda a Sexta: 5h Ã s 23h\nğŸ“… SÃ¡bado: 6h Ã s 20h\nğŸ“… Domingo: 8h Ã s 18h\nğŸ“… Feriados: 8h Ã s 16h\n\nâœ¨ Temos horÃ¡rios especiais para diferentes modalidades!\n\nğŸ”„ Digite \"CONTINUAR\" para mais opÃ§Ãµes\nğŸ  Digite \"MENU\" para menu principal",
        "delay": 0,
        "waitForInput": true,
        "inputTimeout": 60
      },
      "position": { "x": 1100, "y": 20 }
    },
    {
      "id": "condition_submenu_12",
      "type": "condition",
      "data": {
        "condition": "contains",
        "value": "1.2",
        "variable": "userInput"
      },
      "position": { "x": 900, "y": 150 }
    },
    {
      "id": "info_estrutura",
      "type": "message",
      "data": {
        "text": "ğŸ—ï¸ *ESTRUTURA E EQUIPAMENTOS*\n\nğŸ‹ï¸ Ãrea de MusculaÃ§Ã£o: 800mÂ²\nğŸƒ Esteira e Cardio: 200mÂ²\nğŸ¤¸ Ãrea Funcional: 300mÂ²\nğŸŠ Piscina Semi-OlÃ­mpica\nğŸ§˜ Sala de Yoga/Pilates\nğŸ’ª Crossfit Box\nğŸš¿ VestiÃ¡rios Completos\n\nğŸ”„ Digite \"CONTINUAR\" para mais opÃ§Ãµes\nğŸ  Digite \"MENU\" para menu principal",
        "delay": 0,
        "waitForInput": true,
        "inputTimeout": 60
      },
      "position": { "x": 1100, "y": 120 }
    },
    {
      "id": "submenu_planos",
      "type": "message",
      "data": {
        "text": "ğŸ’° *PLANOS E INVESTIMENTO*\n\n2.1 ğŸ‹ï¸ Plano MusculaÃ§Ã£o\n2.2 ğŸŠ Plano Completo\n2.3 ğŸ‘¨â€ğŸ‘©â€ğŸ‘§â€ğŸ‘¦ Plano FamÃ­lia\n2.4 ğŸ”™ Voltar ao Menu Principal\n\nDigite sua escolha:",
        "delay": 0,
        "waitForInput": true,
        "inputTimeout": 60
      },
      "position": { "x": 700, "y": 250 }
    },
    {
      "id": "condition_submenu_21",
      "type": "condition",
      "data": {
        "condition": "contains",
        "value": "2.1",
        "variable": "userInput"
      },
      "position": { "x": 900, "y": 250 }
    },
    {
      "id": "plano_musculacao",
      "type": "message",
      "data": {
        "text": "ğŸ‹ï¸ *PLANO MUSCULAÃ‡ÃƒO*\n\nğŸ’µ R$ 89,90/mÃªs\n\nâœ… Acesso Ã  musculaÃ§Ã£o\nâœ… AvaliaÃ§Ã£o fÃ­sica\nâœ… Treino personalizado\nâœ… Acompanhamento mensal\nâœ… App exclusivo\n\nğŸ *PROMOÃ‡ÃƒO:* Primeira semana GRÃTIS!\n\nğŸ”„ Digite \"CONTINUAR\" para mais opÃ§Ãµes\nğŸ  Digite \"MENU\" para menu principal\nğŸ Digite \"EXPERIMENTAL\" para agendar aula grÃ¡tis",
        "delay": 0,
        "waitForInput": true,
        "inputTimeout": 60
      },
      "position": { "x": 1100, "y": 220 }
    },
    {
      "id": "aula_experimental",
      "type": "message",
      "data": {
        "text": "ğŸ *AULA EXPERIMENTAL GRÃTIS*\n\nğŸ“… Escolha o melhor dia e horÃ¡rio:\n\nğŸ“ WhatsApp: (11) 99999-9999\nğŸŒ Site: www.academia.com.br\nğŸ“§ Email: contato@academia.com.br\n\nâ° Agende agora e venha conhecer nossa estrutura!\n\nğŸ”„ Digite \"CONTINUAR\" para mais opÃ§Ãµes\nğŸ  Digite \"MENU\" para menu principal\nğŸ“ Digite \"CONTATO\" para falar com atendente",
        "delay": 0,
        "waitForInput": true,
        "inputTimeout": 60
      },
      "position": { "x": 700, "y": 350 }
    },
    {
      "id": "especialista_ia",
      "type": "llm",
      "data": {
        "model": "default",
        "prompt": "VocÃª Ã© um especialista em fitness e bem-estar da nossa academia. Responda de forma amigÃ¡vel e profissional sobre treinos, nutriÃ§Ã£o, modalidades da academia, e dÃª dicas personalizadas. Sempre incentive o usuÃ¡rio a experimentar nossa academia. Mantenha as respostas concisas mas informativas.",
        "context": true,
        "timeout": 20,
        "outputVariable": "iaResponse",
        "errorMessage": "Desculpe, nosso especialista estÃ¡ ocupado. Tente novamente ou fale com nosso atendente!",
        "useBalancer": true
      },
      "position": { "x": 700, "y": 450 }
    },
    {
      "id": "condition_continuar_especialista",
      "type": "condition",
      "data": {
        "condition": "contains",
        "value": "CONTINUAR",
        "variable": "userInput"
      },
      "position": { "x": 900, "y": 450 }
    },
    {
      "id": "localizacao_contato",
      "type": "message",
      "data": {
        "text": "ğŸ“ *LOCALIZAÃ‡ÃƒO E CONTATO*\n\nğŸ¢ EndereÃ§o:\nRua da SaÃºde, 123\nBairro Fitness - SÃ£o Paulo/SP\nCEP: 01234-567\n\nğŸ“ Telefones:\n(11) 3333-4444\n(11) 99999-9999\n\nğŸŒ Redes Sociais:\n@academafitness\nwww.academia.com.br\n\nğŸš— Estacionamento gratuito\nğŸš‡ PrÃ³ximo ao metrÃ´ SaÃºde\n\nğŸ”„ Digite \"CONTINUAR\" para mais opÃ§Ãµes\nğŸ  Digite \"MENU\" para menu principal",
        "delay": 0,
        "waitForInput": true,
        "inputTimeout": 60
      },
      "position": { "x": 700, "y": 550 }
    },
    {
      "id": "historias_sucesso",
      "type": "message",
      "data": {
        "text": "ğŸ† *HISTÃ“RIAS DE SUCESSO*\n\nğŸ‘¨â€ğŸ’¼ JoÃ£o perdeu 15kg em 6 meses\nğŸ‘©â€ğŸ’» Maria ganhou massa muscular e autoestima\nğŸ‘´ Carlos melhorou a qualidade de vida aos 65 anos\nğŸ‘§ Ana se tornou atleta de crossfit\n\nğŸ’ª \"Esta academia mudou minha vida!\"\nâ­ \"Melhor investimento que jÃ¡ fiz!\"\nğŸ¯ \"Superei todos os meus limites!\"\n\nğŸ *VocÃª pode ser o prÃ³ximo!*\n\nğŸ”„ Digite \"CONTINUAR\" para mais opÃ§Ãµes\nğŸ  Digite \"MENU\" para menu principal\nğŸ Digite \"EXPERIMENTAL\" para comeÃ§ar",
        "delay": 0,
        "waitForInput": true,
        "inputTimeout": 60
      },
      "position": { "x": 700, "y": 650 }
    },
    {
      "id": "condition_menu_6",
      "type": "condition",
      "data": {
        "condition": "contains",
        "value": "6",
        "variable": "userInput"
      },
      "position": { "x": 500, "y": 650 }
    },
    {
      "id": "condition_volta_submenu",
      "type": "condition",
      "data": {
        "condition": "contains",
        "value": "VOLTAR",
        "variable": "userInput"
      },
      "position": { "x": 900, "y": 350 }
    },
    {
      "id": "condition_especialista_action",
      "type": "condition",
      "data": {
        "condition": "contains",
        "value": "4",
        "variable": "userInput"
      },
      "position": { "x": 500, "y": 450 }
    },
    {
      "id": "condition_experimental_action",
      "type": "condition",
      "data": {
        "condition": "contains",
        "value": "3",
        "variable": "userInput"
      },
      "position": { "x": 500, "y": 350 }
    },
    {
      "id": "mensagem_opcao_invalida",
      "type": "message",
      "data": {
        "text": "ğŸ¤– *OpÃ§Ã£o nÃ£o reconhecida*\n\nPor favor, escolha uma das opÃ§Ãµes disponÃ­veis:\n\nğŸ”„ Digite \"CONTINUAR\" para prosseguir\nğŸ  Digite \"MENU\" para menu principal\nğŸ Digite \"EXPERIMENTAL\" para agendar aula\nğŸ“ Digite \"CONTATO\" para atendente\n\nğŸ’¡ Ou digite o nÃºmero da opÃ§Ã£o (1-6)",
        "delay": 0,
        "waitForInput": true,
        "inputTimeout": 60
      },
      "position": { "x": 300, "y": 750 }
    },
    {
      "id": "end_flow",
      "type": "end",
      "data": {
        "message": "ğŸ Obrigado por usar nosso atendimento! ğŸ’ª\n\nEsperamos vÃª-lo em breve na academia!"
      },
      "position": { "x": 1300, "y": 400 }
    }
  ],
  "connections": [
    {
      "id": "conn_start_menu",
      "from": "start_node",
      "to": "menu_principal"
    },
    {
      "id": "conn_menu_condition",
      "from": "menu_principal",
      "to": "condition_menu_principal"
    },
    {
      "id": "conn_condition_info_true",
      "from": "condition_menu_principal",
      "to": "submenu_informacoes"
    },
    {
      "id": "conn_condition_info_false",
      "from": "condition_menu_principal",
      "to": "submenu_planos"
    },
    {
      "id": "conn_info_condition11",
      "from": "submenu_informacoes",
      "to": "condition_submenu_11"
    },
    {
      "id": "conn_condition11_true",
      "from": "condition_submenu_11",
      "to": "info_horarios"
    },
    {
      "id": "conn_condition11_false",
      "from": "condition_submenu_11",
      "to": "condition_submenu_12"
    },
    {
      "id": "conn_condition12_true",
      "from": "condition_submenu_12",
      "to": "info_estrutura"
    },
    {
      "id": "conn_condition12_false",
      "from": "condition_submenu_12",
      "to": "menu_principal"
    },
    {
      "id": "conn_planos_condition21",
      "from": "submenu_planos",
      "to": "condition_submenu_21"
    },
    {
      "id": "conn_condition21_true",
      "from": "condition_submenu_21",
      "to": "plano_musculacao"
    },
    {
      "id": "conn_condition21_false",
      "from": "condition_submenu_21",
      "to": "menu_principal"
    },
    {
      "id": "conn_menu_experimental",
      "from": "condition_experimental_action",
      "to": "aula_experimental"
    },
    {
      "id": "conn_experimental_false",
      "from": "condition_experimental_action",
      "to": "condition_especialista_action"
    },
    {
      "id": "conn_menu_especialista",
      "from": "condition_especialista_action",
      "to": "especialista_ia"
    },
    {
      "id": "conn_especialista_false",
      "from": "condition_especialista_action",
      "to": "localizacao_contato"
    },
    {
      "id": "conn_especialista_continuar",
      "from": "especialista_ia",
      "to": "condition_continuar_especialista"
    },
    {
      "id": "conn_continuar_true",
      "from": "condition_continuar_especialista",
      "to": "especialista_ia"
    },
    {
      "id": "conn_continuar_false",
      "from": "condition_continuar_especialista",
      "to": "menu_principal"
    },
    {
      "id": "conn_menu_historias",
      "from": "condition_menu_6",
      "to": "historias_sucesso"
    },
    {
      "id": "conn_menu6_false",
      "from": "condition_menu_6",
      "to": "mensagem_opcao_invalida"
    },
    {
      "id": "conn_volta_true",
      "from": "condition_volta_submenu",
      "to": "menu_principal"
    },
    {
      "id": "conn_volta_false",
      "from": "condition_volta_submenu",
      "to": "mensagem_opcao_invalida"
    },
    {
      "id": "conn_horarios_menu",
      "from": "info_horarios",
      "to": "menu_principal"
    },
    {
      "id": "conn_estrutura_menu",
      "from": "info_estrutura",
      "to": "menu_principal"
    },
    {
      "id": "conn_plano_menu",
      "from": "plano_musculacao",
      "to": "menu_principal"
    },
    {
      "id": "conn_experimental_menu",
      "from": "aula_experimental",
      "to": "menu_principal"
    },
    {
      "id": "conn_localizacao_menu",
      "from": "localizacao_contato",
      "to": "menu_principal"
    },
    {
      "id": "conn_historias_menu",
      "from": "historias_sucesso",
      "to": "menu_principal"
    },
    {
      "id": "conn_invalida_menu",
      "from": "mensagem_opcao_invalida",
      "to": "menu_principal"
    }
  ]
}